<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>FirstProject</title>
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <div id="container" style="border: 2px solid; color: black; text-align: center; background-color: aqua;">
      <h1 id="firstHeading">WELCOME</h1>
        <form action="" id="form" style="padding-bottom: 10px;">
            <label for="amount" id="l1">Choose ExpenceAmount</label>
            <input type="text" id="amount" required>
            <label for="description" id="l2">Choose Description</label>
            <input type="text" id="description" required><label>
                <label for="Choose">Choose a Catagory</label>

<select id="choose">
  <option value="">--Please choose an option--</option>
  <option value="Fuel">fuel</option>
  <option value="Electricity">Electricity</option>
  <option value="Food">Food</option>
  <option value="Movie">Movie</option>
</select>

<input type="submit" name="" id="sub" style="background-color: rgb(43, 255, 0);">
        </form>
    </div>
    <div id="container2">
      <ul id="list"  style="text-align: center; list-style: none;" >
      
      </ul>
    </div>
    <script>
      var fo=document.getElementById("form")
      fo.addEventListener('submit',function(event){
        event.preventDefault()
        let amount=document.getElementById("amount").value
        //console.log(amount)
        let des=document.getElementById('description').value
        let sel=document.getElementById('choose').value
        //console.log(sel)
        let myobj={
          amout : amount,
          d    : des,
          c    : sel
        };
        let obj1=JSON.stringify(myobj);
        localStorage.setItem(des, obj1)
        var n =document.createElement("li")
        n.appendChild(document.createTextNode(amount))
        n.appendChild(document.createTextNode("----"))
        n.appendChild(document.createTextNode(des))
        n.appendChild(document.createTextNode("----"))
        n.appendChild(document.createTextNode(sel))
        let u=document.getElementById("list")
        u.appendChild(n)
        // making delete button
        let btn=document.createElement("button");
        btn.id="delete";
        btn.innerHTML="DELETE"
        n.appendChild(btn)
        // making edit button
        let ed=document.createElement("button");
        ed.id="Edit";
        ed.innerHTML="EDIT"
        n.appendChild(ed)

        //deleleing element
        btn.addEventListener("click", function(e){
          n.remove();
          localStorage.removeItem(des, obj1);
        })

        // Editing
        ed.addEventListener("click" , function(e){
          let ne=document.createElement("li")

          let a=document.getElementById("amount").value
          let d=document.getElementById('description').value
          let s=document.getElementById('choose').value
          ne.appendChild(document.createTextNode(a))
          ne.appendChild(document.createTextNode("----"))
          ne.appendChild(document.createTextNode(d))
          ne.appendChild(document.createTextNode("----"))
          ne.appendChild(document.createTextNode(s))
          ne.appendChild(btn)
          ne.appendChild(ed)

          let r=u.lastElementChild;
          console.log(r)
          u.replaceChild(ne ,r)
          btn.addEventListener("click", function(e){
          ne.remove();
          localStorage.removeItem(des, obj1);
          localStorage.removeItem;
          let j={
          amout : a,
          d    : d,
          c    : s
        };
        let j1=JSON.stringify(j);
        localStorage.setItem(des,j1)
        })
        })
      })

    </script>
  </body>
</html>